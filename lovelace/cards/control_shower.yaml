type: horizontal-stack
cards:
  - type: custom:button-card
    template: ha-button
    icon: mdi:water-boiler
    name: Boiler
    entity: switch.water_boiler_with_timer
    tap_action:
      action: toggle
    styles:
      label:
        - font-size: 10px
    show_label: true
    label: >
      [[[ 
        if (states['binary_sensor.water_boiler_was_on_today'].state == 'on') {
          return '<div>On for ' + states["sensor.water_boiler_metrics_duration_last_time"].state + '</div>' +
          ((states['switch.water_boiler'].state == 'off') ? '<div>' + states["sensor.water_boiler_metrics_time_since_finished"].state + ' ago' : '') + '</div>'; 
          } ]]]
      

  - type: grid
    columns: 2
    square: false
    cards:
      - type: custom:button-card
        template: timer-button
        name: 30m
        entity: input_number.water_boiler_timer_duration
        variables:
          value: 30
      - type: custom:button-card
        template: timer-button
        name: 45m
        entity: input_number.water_boiler_timer_duration
        variables:
          value: 45
      - type: custom:button-card
        template: timer-button
        name: 1H
        entity: input_number.water_boiler_timer_duration
        variables:
          value: 60
      - type: custom:button-card
        template: timer-button
        name: 2H
        entity: input_number.water_boiler_timer_duration
        variables:
          value: 120

  - type: custom:button-card
    template: ha-button
    icon: mdi:radiator
    name: Heater
    entity: switch.bathroom_heater
    tap_action:
      action: toggle
    hold_action:
      action: more-info
  - type: grid
    columns: 2
    square: false
    cards:
      - type: custom:button-card
        template: timer-button
        name: 10m
        entity: input_number.bathroom_heater_timer_duration
        variables:
          value: 10
      - type: custom:button-card
        template: timer-button
        name: 20m
        entity: input_number.bathroom_heater_timer_duration
        variables:
          value: 20
      - type: custom:button-card
        template: timer-button
        name: 30m
        entity: input_number.bathroom_heater_timer_duration
        variables:
          value: 30
      - type: custom:button-card
        template: timer-button
        name: 40m
        entity: input_number.bathroom_heater_timer_duration
        variables:
          value: 40
